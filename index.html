<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>d3 Heatmap</title>

  <!-- load d3.js -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script> const div = d3.selectAll("div");</script>
</head>

<body>

  <!-- upload csv file -->
  <input id="input" type="file" accept=".csv">

  <!-- heatmap graph will take place here -->
  <div id="heatmap"></div>

  <script>
    //handle input csv file
    var input = document.getElementById('input');
    input.onchange = function () {
      var fileList = input.files;

      // 읽기
      var reader = new FileReader();
      reader.readAsText(fileList[0]);

      //로드 한 후
      reader.onload = function () {
        data = d3.csvParse(reader.result, d3.autoType);
        
        //x y z의 범위부터 찾아서 scaling에 쓰기
        console.log(d3.extent(data, d => d.x));
        console.log(d3.extent(data, d => d.y));
        console.log(d3.extent(data, d => d.z));
      };
    }
  </script>

</body>

</html>